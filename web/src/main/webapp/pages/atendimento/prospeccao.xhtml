<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
    xmlns:pm="http://primefaces.org/mobile"
	xmlns:fw="http://xmlns.jcp.org/jsf/composite/forwardcomponents"
	template="../../layout/template.xhtml">
	<ui:define name="content">

		<ui:include src="/pages/atendimento/modalAtendimento.xhtml" />

		<p:commandButton value="Atendimento"
			onclick="PF('mdAtendimento').show();" />
		<p:panelGrid id="prospeccao" layout="grid" columns="7" styleClass="grid_6 ui-responsive">
			<f:facet name="header">tas</f:facet>
			<fw:OneMenu idt="eventos" label="#{msgs.evento}">
			</fw:OneMenu>
			<p:panel styleClass="fm_field">
				<p:outputLabel value="#{msgs['data.evento']}" />
				<br />
				<p:calendar id="dataEvento" mindate="" />
			</p:panel>
			<fw:labelInputText idt="contatoComercial" label="#{msgs.contato}"
				value="0" />
			<fw:labelInputText idt="status" label="#{msgs.status}" value="0" />
			<fw:labelInputText idt="statusMarketing"
				label="#{msgs['status.marketing']}" value="0" />

			<p:panel styleClass="fm_field">
				<p:outputLabel value="#{msgs['data.pendencia']}" />
				<br />
				<p:calendar id="dataPendencia" mindate="" />
				<p:inputMask mask="99:99" id="horaPendencia" value="00:00" />
			</p:panel>

			<fw:OneMenu idt="indicacao" label="#{msgs.indicacao}">
			</fw:OneMenu>

		</p:panelGrid>
		<p:panelGrid columns="2" styleClass="ui-responsive" style="width:100%">

			<p:panelGrid layout="grid" columns="3" styleClass=" fm_noivos ui-responsive">
				<f:facet name="header">
					<p:outputLabel value="#{msgs['noiva.dados']}" />
				</f:facet>
				<fw:labelInputText idt="nomeNoiva" label="#{msgs['campo.nome']}"
					value="0" />
				<fw:labelInputText idt="celularNoiva"
					label="#{msgs['campo.celular']}" value="0" />

				<fw:labelInputText idt="emailNoiva" label="#{msgs['campo.email']}"
					value="0" />

			</p:panelGrid>
			<p:panelGrid layout="grid" columns="3" styleClass="fm_noivos ui-responsive">
				<f:facet name="header">
					<p:outputLabel value="#{msgs['noivo.dados']}" />
				</f:facet>
				<fw:labelInputText idt="nomeNoivo" label="#{msgs['campo.nome']}"
					value="0" />
				<fw:labelInputText idt="celularNoivo"
					label="#{msgs['campo.celular']}" value="0" />

				<fw:labelInputText idt="emailNoivo" label="#{msgs['campo.email']}"
					value="0" />

			</p:panelGrid>
			<p:panelGrid layout="grid" columns="2">
			
				<p:dataGrid id="gridAtendimentos" value="#{prospeccaoBean.listaAtendimentos}" var="atendimento">
					<p:row id="linhaAtendimento#{atendimento.codigoAtendimento}">
						<p:column sortable="true">
							<f:facet name="header" >#{msgs['campo.data.atendimento']}</f:facet>
							#{atendimento.dataCadastroAtendimentoFormatado}
						</p:column>
						<p:column>
							<f:facet name="header">#{msgs['campo.descricao']}</f:facet>
							#{prospeccaoBean.cortarDescricaoAtendimento(atendimento)}
						</p:column>
						<p:column> 
							<f:facet name="header">#{msgs['campo.nome.atendente']}</f:facet>
							#{atendimento.contato.nomePessoa} 
						</p:column>
						<p:column> 
							<f:facet name="header">#{msgs['campo.forma.contato']}</f:facet>
							#{atendimento.formaAtendimento.descricao} 
						</p:column>
						<p:tooltip showEffect="fade" hideEffect="fade">
							<b>#{msgs['campo.data.atendimento']}:</b>#{atendimento.dataCadastroAtendimentoFormatado}<br/>
							<b>#{msgs['campo.nome.atendente']}:</b>#{atendimento.contato.nomePessoa}<br/>
							<b>#{msgs['campo.forma.contato']}:</b>#{atendimento.formaAtendimento.descricao}<br/>
							<b>#{msgs['campo.descricao']}:</b>#{atendimento.descricaoAtendimento}<br/>
						</p:tooltip>
					</p:row>
					
				</p:dataGrid>
			
			</p:panelGrid>
		</p:panelGrid>


	</ui:define>
</ui:composition>